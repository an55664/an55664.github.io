// JavaScript 示例（使用 web3.js）
const web3 = new Web3(Web3.givenProvider);

// 智能合约地址和 ABI（在部署后获取）
const contractAddress = '0xc440F054A6eB735E7F435470CCa2c47b88121566';
const contractAbi = [[
	{
		"inputs": [],
		"name": "rollDice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_tokenAddress",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [],
		"name": "token",
		"outputs": [
			{
				"internalType": "contract ERC20",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]]; // 智能合约 ABI

const diceGameContract = new web3.eth.Contract(contractAbi, contractAddress);

// 监听按钮点击事件
document.getElementById('rollButton').addEventListener('click', async () => {
    try {
        // 调用智能合约的 rollDice 函数
        const result = await diceGameContract.methods.rollDice().send({ from: userAddress });

        // 处理结果，例如显示点数和奖励的代币数量
        console.log('Dice result:', result);
    } catch (error) {
        console.error('Error:', error);
    }
});
